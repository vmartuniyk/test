#Область Команды

&НаКлиенте
Процедура Выгрузить(Команда)
	ВыгрузитьНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ВыгрузкаВсего(Команда)
	ВыгрузкаВсегоНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ПроверитьПодключение(Команда)
	ПроверитьПодключениеНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ВыгрузитьВсюНоменклатуру(Команда)
	ВыгрузитьВсюНоменклатуруНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ВыгрузитьНоменклатуруПоОчереди(Команда)
	ВыгрузитьНоменклатуруПоОчередиНаСервере(); 
КонецПроцедуры

&НаКлиенте
Процедура ВыгрузитьВсеВидыНоменклатуры(Команда)
	ВыгрузитьВсеВидыНоменклатурыНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ВыгрузитьПоОчередиВидНоменклатуры(Команда)
	ВыгрузитьПоОчередиВидНоменклатурыНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ВыгрузитьВсехПартнеров(Команда)
	ВыгрузитьВсехПартнеровНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ВыгрузитьПарнеровПоОчереди(Команда)
	ВыгрузитьПарнеровПоОчередиНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ПоступлнениеПоОчереди(Команда)
	ПоступлнениеПоОчередиНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ПоступлениеВсе(Команда)
	ПоступлениеВсеНаСервере();
КонецПроцедуры

#КонецОбласти 

#Область   Общие

	
#КонецОбласти

&НаСервере
Процедура ВыгрузкаВсегоНаСервере()  
	РеквизитФормыВЗначение("Объект").ВыгрузитьВесьСписокНоменклатурыИВидаИзУТ();
	РеквизитФормыВЗначение("Объект").ВыгрузитьВсегоСпискаВидаНоменклатурыИзУТ(); 
	РеквизитФормыВЗначение("Объект").ВыгрузитьВсегоСпискаПартнеровИзУТ(); 
КонецПроцедуры


&НаСервере
Процедура ВыгрузитьНаСервере()
	РеквизитФормыВЗначение("Объект").СинхронизацияБухгалтерииСУТ11(); 
КонецПроцедуры


&НаСервере
Процедура ПроверитьПодключениеНаСервере()
	
	ИмяПользователя 	= ктс_ПредопределенныеЗначенияПовтИсп.ИмяПользователяБух();   	
	Пароль 				= ктс_ПредопределенныеЗначенияПовтИсп.ПарольПользователяБух();   	
	МестоположениеWSDL	= ктс_ПредопределенныеЗначенияПовтИсп.МестоположениеWSDLДляСинхронизации();	

	Прокси = РеквизитФормыВЗначение("Объект").ПолучитьСсылкуWS(МестоположениеWSDL,ИмяПользователя,Пароль);
	Если ТипЗнч(Прокси) = Тип("WSПрокси") Тогда
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Работает");
	Иначе
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Не Работает"); 
	КонецЕсли;
КонецПроцедуры

#Область Номенклатура
	
&НаСервере
Процедура ВыгрузитьВсюНоменклатуруНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьВесьСписокНоменклатурыИВидаИзУТ();
КонецПроцедуры

&НаСервере
Процедура ВыгрузитьНоменклатуруПоОчередиНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьСписокНоменклатурыИзУТСОчереди();  
КонецПроцедуры
#КонецОбласти

#Область ВидНоменклатуры
	
&НаСервере
Процедура ВыгрузитьВсеВидыНоменклатурыНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьВсегоСпискаВидаНоменклатурыИзУТ(); 
КонецПроцедуры

&НаСервере
Процедура ВыгрузитьПоОчередиВидНоменклатурыНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьСписокВидаНоменклатурыИзУТСОчереди(); 
КонецПроцедуры   

#КонецОбласти

#Область Партнеры

&НаСервере
Процедура ВыгрузитьВсехПартнеровНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьВсегоСпискаПартнеровИзУТ(); 

КонецПроцедуры

&НаСервере
Процедура ВыгрузитьПарнеровПоОчередиНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьСписокПартнеровИзУТСОчереди(); 
КонецПроцедуры
	
#КонецОбласти

#Область Поступление  

&НаСервере
Процедура ПоступлнениеПоОчередиНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьСписокЗаписейПоДокументуПоступлениИзУТСОчереди(); 
КонецПроцедуры


&НаСервере
Процедура ПоступлениеВсеНаСервере()
	РеквизитФормыВЗначение("Объект").ВыгрузитьСписокЗаписейПоДокументуПоступлениИзУТ(); 
КонецПроцедуры

	
#КонецОбласти