
#Область ИнтерфейсАвтоматическихТестов
	
&НаКлиенте
Перем ЮнитТест;

&НаКлиенте
Функция ПолучитьСписокТестов(ЮнитТестирование) Экспорт
	
	ЮнитТест = ЮнитТестирование;
	
	СписокТестов = Новый Массив;
	
	Возврат СписокТестов;
	
КонецФункции
 
#КонецОбласти


#Область ПрограммныйИнтерфейс

Процедура ПарнерПриИзменении(ВнешнийОбъект, Партнер, АдресДоставки, ЛояльностьИспользуется = Ложь) Экспорт

	АдресДоставки = "";

	Если Не ЛояльностьИспользуется Тогда
		АдресДоставки = ЗаполнитьАдресДоставкиПоУмолчанию(ВнешнийОбъект, Партнер);
	КонецЕсли;

КонецПроцедуры
 
#КонецОбласти


#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;	
	КонецЕсли;
КонецПроцедуры

#КонецОбласти


#Область СлужебныеПроцедурыИФункции

&НаСервереБезКонтекста
Функция ЗаполнитьАдресДоставкиПоУмолчанию(знач ВнешнийОбъект, знач Партнер)
	
	Если ПустаяСтрока(ВнешнийОбъект) Тогда
		Возврат git_МодульДоставкиСервер.ПолучитьАдресДоставкиПоУмолчания(Партнер);
	Иначе
		ВнешнийОбъектКлиент = git_ПереопределениеОбработчиковСервер.ПолучитьВнешнийОбъектПоИмени(ВнешнийОбъект);
		Возврат ВнешнийОбъектКлиент.ПолучитьАдресДоставкиПоУмолчания(Партнер);
	КонецЕсли;
	
КонецФункции

#КонецОбласти


