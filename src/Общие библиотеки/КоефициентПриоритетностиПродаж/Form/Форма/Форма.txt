
#Область ИнтерфейсАвтоматическихТестов

&НаКлиенте
Перем ЮнитТест;

&НаКлиенте
Функция ПолучитьСписокТестов(ЮнитТестирование) Экспорт
	
	ЮнитТест = ЮнитТестирование;
	
	СписокТестов = Новый Массив;	
	СписокТестов.Добавить("Тест_ПроверитьПолучениеФормыСправочнкаНоменклатуры");
	СписокТестов.Добавить("Тест_ПроверитьОткрытиеФормыСправочнкаНоменклатуры");
	СписокТестов.Добавить("Тест_ПроверитьПараметрыЗаполнения");
	
	Возврат СписокТестов;
	
КонецФункции


&НаКлиенте
Процедура Тест_ПроверитьПолучениеФормыСправочнкаНоменклатуры() Экспорт
	ПолучитьФорму("Справочник.Номенклатура.Форма.ФормаЭлемента");
КонецПроцедуры

&НаКлиенте
Процедура Тест_ПроверитьОткрытиеФормыСправочнкаНоменклатуры() Экспорт
	
	ФормаНоменклатуры = ПолучитьФорму("Справочник.Номенклатура.Форма.ФормаЭлемента");
	ОткрытьФорму(ФормаНоменклатуры);
	ФормаНоменклатуры.Закрыть();
	
КонецПроцедуры

&НаКлиенте
Процедура Тест_ПроверитьПараметрыЗаполнения() Экспорт
	
	ФормаНоменклатуры = ПолучитьФорму("Справочник.Номенклатура.Форма.ФормаЭлемента");
	ПараметрыЗаполнения = ФормаНоменклатуры.КПП_ПолучитьПараметрыЗаполнения("НеизвестныйРегистр");
	
	ЮнитТест.ПроверитьТип(ПараметрыЗаполнения, Тип("Структура"));
	ЮнитТест.ПроверитьИстину(ПараметрыЗаполнения.Свойство("Период"));
	ЮнитТест.ПроверитьИстину(ПараметрыЗаполнения.Свойство("Номенклатура"));
	ЮнитТест.ПроверитьИстину(ПараметрыЗаполнения.Свойство("Значение"));
	ЮнитТест.ПроверитьИстину(ПараметрыЗаполнения.Свойство("НеПересчитыватьАвтоматически"));
	ЮнитТест.ПроверитьЛожь(ПараметрыЗаполнения.Свойство("Ответственный"));
	
КонецПроцедуры

&НаКлиенте
Процедура Команда1(Команда)
	Команда1НаСервере();
КонецПроцедуры

&НаСервере
Процедура Команда1НаСервере()
	РеквизитФормыВЗначение("Объект").ВыполнитьОбновлениеСтарыхЦенНоменклатуры();
КонецПроцедуры

#КонецОбласти
