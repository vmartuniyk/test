&НаКлиенте
Процедура ВыполнитьКоманду(ИдентификаторКоманды, ОбъектыНазначенияМассив) Экспорт
	ОткрытьЗначение(ВыполнитьЗаполнениеВходныхЦен(ОбъектыНазначенияМассив));
КонецПроцедуры // ЗаполнитьТчДокумента()


&НаСервере
Функция ВыполнитьЗаполнениеВходныхЦен(ОбъектыНазначенияМассив)

		Документ = ОбъектыНазначенияМассив[0];
		
		ДокументОбъект = Документы.КТС_ОтгрузкаТоваров.СоздатьДокумент();
		ДокументОбъект.УстановитьНовыйНомер();
		
		ДокументОбъект.Товары.Загрузить(Документ.Товары.Выгрузить());
		ДокументОбъект.Склад 			= Документ.СкладОтправитель;
		ДокументОбъект.Распоряжение 	= Документ;
		ДокументОбъект.Дата				= Документ.Дата - 1;
		
		ДокументОбъект.Записать(РежимЗаписиДокумента.Запись);
		
		Возврат ДокументОбъект.Ссылка;
	
КонецФункции // ВыполнитьЗаполнениеВходныхЦен()
 
  