#Область ИнтерфейсАвтоматическихТестов
&НаКлиенте
Перем ЮнитТест;

&НаКлиенте
Функция ПолучитьСписокТестов(ЮнитТестирование) Экспорт
	
	ЮнитТест = ЮнитТестирование;
	
	СписокТестов = Новый Массив;
	
	ПараметрыТеста = Новый Структура("ИмяТеста, Транзакция, Параметр", "Тест_Заглушка");
	СписокТестов.Добавить(ПараметрыТеста);
	
	Возврат СписокТестов;
	
КонецФункции

&НаКлиенте
Функция Тест_Заглушка(Параметр) Экспорт
	ЮнитТест.ПроверитьИстину(Истина,);
КонецФункции // Тест_Заглушка()


#КонецОбласти

#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Запрос = Новый Запрос;
	Запрос.Текст = "
		|ВЫБРАТЬ
		|	*
		|ИЗ
		|	Справочник.ГруппыПользователей.Состав
		|ГДЕ
		|	Ссылка = &ГруппаПользователя
		|И	Пользователь = &Пользователь";
	Запрос.УстановитьПараметр("ГруппаПользователя", Справочники.ГруппыПользователей.ПолучитьСсылку(Новый УникальныйИдентификатор("353ea8a9-4689-11e0-9f98-001517115d85")));
	Запрос.УстановитьПараметр("Пользователь", ПараметрыСеанса.ТекущийПользователь);
	
	Если РольДоступна(Метаданные.Роли.ПолныеПрава) ИЛИ НЕ Запрос.Выполнить().Пустой() Тогда
		Элементы.ТабДок.ТолькоПросмотр = Ложь;
		Элементы.ТабДок.Редактирование = Истина;
	КонецЕсли; 
	
	ТабДок = Параметры.ТабДок;
	
КонецПроцедуры

#КонецОбласти
